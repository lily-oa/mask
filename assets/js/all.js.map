{"version":3,"sources":["all.js"],"names":["document","write","renderDay","_date","Date","_day","getDay","querySelector","textContent","style","display","renderDayVids","_year","getFullYear","_month","getMonth","getDate","init","getData","data","xhr","XMLHttpRequest","open","send","onload","JSON","parse","responseText","renderList","city","ary","features","str","i","length","properties","county","name","mask_adult","mask_child","innerHTML","addEventListener","e","target","value","mapId","L","map","center","zoom","tileLayer","attribution","addTo"],"mappings":";;AACAA,QAAQ,CAACC,KAAT,CAAe,OAAf,E,CAEA;;AACA,SAASC,SAAT,GAAoB;AAClB,MAAMC,KAAK,GAAG,IAAIC,IAAJ,EAAd;;AACA,MAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,EAAb;;AACAN,EAAAA,QAAQ,CAACO,aAAT,CAAuB,OAAvB,EAAgCC,WAAhC,GAA8CH,IAA9C,CAHkB,CAKlB;;AACA,MAAGA,IAAI,IAAI,CAAR,IAAaA,IAAI,IAAI,CAArB,IAA0BA,IAAI,IAAI,CAArC,EAAuC;AACrCL,IAAAA,QAAQ,CAACO,aAAT,CAAuB,MAAvB,EAA+BE,KAA/B,CAAqCC,OAArC,GAA+C,OAA/C;AACD,GAFD,MAEM,IAAIL,IAAI,IAAI,CAAR,IAAaA,IAAI,IAAI,CAArB,IAA0BA,IAAI,IAAI,CAAtC,EAAyC;AAC7CL,IAAAA,QAAQ,CAACO,aAAT,CAAuB,OAAvB,EAAgCE,KAAhC,CAAsCC,OAAtC,GAAgD,OAAhD;AACD,GAFK,MAED;AACHV,IAAAA,QAAQ,CAACO,aAAT,CAAuB,SAAvB,EAAkCE,KAAlC,CAAwCC,OAAxC,GAAkD,OAAlD;AACD;AACF,C,CAED;;;AACA,SAASC,aAAT,GAAwB;AACtB,MAAMR,KAAK,GAAG,IAAIC,IAAJ,EAAd;;AACA,MAAMQ,KAAK,GAAGT,KAAK,CAACU,WAAN,EAAd,CAFsB,CAGtB;;;AACA,MAAMC,MAAM,GAAIX,KAAK,CAACY,QAAN,KAAiB,CAAjC;;AACA,MAAMV,IAAI,GAAGF,KAAK,CAACa,OAAN,EAAb;;AACAhB,EAAAA,QAAQ,CAACO,aAAT,CAAuB,OAAvB,EAAgCC,WAAhC,aAAgDI,KAAhD,cAAyDE,MAAzD,cAAmET,IAAnE;AACD,C,CAED;;;AACA,SAASY,IAAT,GAAe;AACb;AACAf,EAAAA,SAAS;AACTS,EAAAA,aAAa;AACbO,EAAAA,OAAO;AACR,C,CAED;;;AACA,IAAIC,IAAJ,C,CAEA;;AACA,SAASD,OAAT,GAAkB;AAChB,MAAME,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgB,4EAAhB,EAA8F,IAA9F;AACAF,EAAAA,GAAG,CAACG,IAAJ,GAHgB,CAIhB;;AACAH,EAAAA,GAAG,CAACI,MAAJ,GAAa,YAAU;AACrB;AACAxB,IAAAA,QAAQ,CAACO,aAAT,CAAuB,YAAvB,EAAqCE,KAArC,CAA2CC,OAA3C,GAAqD,MAArD,CAFqB,CAGrB;;AAEAS,IAAAA,IAAI,GAAGM,IAAI,CAACC,KAAL,CAAWN,GAAG,CAACO,YAAf,CAAP,CALqB,CAMpB;;AACDC,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GARD;AASD,C,CAED;;;AACA,SAASA,UAAT,CAAoBC,IAApB,EAAyB;AACvB,MAAIC,GAAG,GAAGX,IAAI,CAACY,QAAf;AACA,MAAIC,GAAG,GAAG,EAAV,CAFuB,CAGvB;AACA;;AACA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeH,GAAG,CAACI,MAAJ,GAAWD,CAA1B,EAA8BA,CAAC,EAA/B,EAAkC;AAChC;AACA,QAAGH,GAAG,CAACG,CAAD,CAAH,CAAOE,UAAP,CAAkBC,MAAlB,IAA4BP,IAA/B,EAAoC;AAClCG,MAAAA,GAAG,kBAAWF,GAAG,CAACG,CAAD,CAAH,CAAOE,UAAP,CAAkBC,MAA7B,gBAAyCN,GAAG,CAACG,CAAD,CAAH,CAAOE,UAAP,CAAkBE,IAA3D,8CAA0EP,GAAG,CAACG,CAAD,CAAH,CAAOE,UAAP,CAAkBG,UAA5F,4DACMR,GAAG,CAACG,CAAD,CAAH,CAAOE,UAAP,CAAkBI,UADxB,gBAAH;AAED;AACF;;AACDvC,EAAAA,QAAQ,CAACO,aAAT,CAAuB,OAAvB,EAAgCiC,SAAhC,GAA4CR,GAA5C;AACD;;AAEDf,IAAI,G,CAEJ;;AACAjB,QAAQ,CAACO,aAAT,CAAuB,WAAvB,EAAoCkC,gBAApC,CAAqD,QAArD,EAA+D,UAASC,CAAT,EAAW;AACxE;AACA;AACAd,EAAAA,UAAU,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV;AACD,CAJD,E,CAOA;AACA;AACA;;AACA,IAAIC,KAAK,GAAGC,CAAC,CAACC,GAAF,CAAM,OAAN,EAAe;AACzBC,EAAAA,MAAM,EAAE,CAAC,QAAD,EAAW,SAAX,CADiB;AAEzBC,EAAAA,IAAI,EAAE;AAFmB,CAAf,CAAZ,C,CAKA;;AACAH,CAAC,CAACI,SAAF,CAAY,oDAAZ,EAAkE;AAC9DC,EAAAA,WAAW,EAAE;AADiD,CAAlE,EAEGC,KAFH,CAESP,KAFT,E,CAKA;AACA","file":"all.js","sourcesContent":["\ndocument.write('<img>');\n\n//判斷日期(顯示星期幾)\nfunction renderDay(){\n  const _date = new Date();\n  const _day = _date.getDay();\n  document.querySelector('.demo').textContent = _day;\n\n  //判斷基數 or 偶數並顯示可否購買\n  if(_day == 1 || _day == 3 || _day == 5){\n    document.querySelector('.odd').style.display = 'block';\n  }else if((_day == 2 || _day == 4 || _day == 6)){\n    document.querySelector('.even').style.display = 'block';\n  }else{\n    document.querySelector('.sunday').style.display = 'block';\n  }\n}\n\n// 顯示出西元年月日\nfunction renderDayVids(){\n  const _date = new Date();\n  const _year = _date.getFullYear();\n  //month是從 0 開始，所以要加 1 \n  const _month = (_date.getMonth()+1);\n  const _day = _date.getDate();\n  document.querySelector('.vids').textContent =`${_year}-${_month}-${_day}`;\n}\n\n//初始化，當網頁一開始載入時會先執行\nfunction init(){\n  //執行函式\n  renderDay();\n  renderDayVids();\n  getData();\n}\n\n//設定一個放資料的全域變數\nlet data;\n\n//取得資料\nfunction getData(){\n  const xhr = new XMLHttpRequest();\n  xhr.open('get', 'https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json', true);\n  xhr.send();\n  //確定有無回傳資料\n  xhr.onload = function(){\n    //若是 ajax 的資料尚未載入則先呈現loading的畫面\n    document.querySelector('.c-loading').style.display = 'none';\n    //console.log(xhr.responseText);\n    \n    data = JSON.parse(xhr.responseText);\n     //預設顯示的值為臺北市\n    renderList(\"臺北市\");\n  }\n}\n\n// 顯示回傳 xhr 資料並組字串寫入網頁中\nfunction renderList(city){\n  let ary = data.features;\n  let str = '';\n  // console.log(ary);\n  //組字串\n  for(let i = 0; ary.length>i ; i++){\n    //設定area區域的顯示規則，若抓取的資料和傳入的參數一樣就將資料顯示在網頁上\n    if(ary[i].properties.county == city){\n      str += `<li>${ary[i].properties.county} : ${ary[i].properties.name}，成人口罩 : ${ary[i].properties.mask_adult}個，\n      兒童口罩 : ${ary[i].properties.mask_child}個</li>`\n    }\n  }\n  document.querySelector('.list').innerHTML = str;\n}\n\ninit();\n\n//監聽 area 範圍若發生改變時將改變的值以參數方式傳給顯示網頁的函數\ndocument.querySelector('.p-select').addEventListener('change', function(e){\n  // console.log(e.target.value);\n  //此函式是將回傳值寫入網頁中(台北、台中、高雄)\n  renderList(e.target.value);\n});\n\n\n// 地圖 map\n// 設定一個地圖，把這地圖定位在 #mapId，\n// 先定位 center 座標，zoom 定位 16，zoom:縮放等級\nvar mapId = L.map('mapId', {\n  center: [25.04828, 121.51435],\n  zoom: 16\n});\n\n// 告訴電腦你要誰的圖資\nL.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n}).addTo(mapId);\n\n\n//-----------------------------------------------\n// 畫布按鈕開關 \n"]}